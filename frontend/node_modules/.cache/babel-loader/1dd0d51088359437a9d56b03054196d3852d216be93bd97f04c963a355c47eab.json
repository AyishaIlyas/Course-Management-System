{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./contexts/AuthContext';import Navbar from'./components/Navbar';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import CourseList from'./pages/CourseList';import CourseEnrollment from'./pages/CourseEnrollment';import CourseRegistration from'./pages/CourseRegistration';import Results from'./pages/Results';import AdminPanel from'./pages/AdminPanel';import TeacherPanel from'./pages/TeacherPanel';import StudentPanel from'./pages/StudentPanel';import AddUser from'./pages/AddUser';import CreateCourse from'./pages/CreateCourse';import SystemSettings from'./pages/SystemSettings';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,allowedRoles}=_ref;const{user,isAuthenticated}=useAuth();if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(allowedRoles&&!allowedRoles.includes(user===null||user===void 0?void 0:user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"});}return children;};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CourseList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register-course\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_STUDENT'],children:/*#__PURE__*/_jsx(CourseRegistration,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/results\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_STUDENT'],children:/*#__PURE__*/_jsx(Results,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_ADMIN'],children:/*#__PURE__*/_jsx(AdminPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/add-user\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_ADMIN'],children:/*#__PURE__*/_jsx(AddUser,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-course\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_ADMIN'],children:/*#__PURE__*/_jsx(CreateCourse,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_ADMIN'],children:/*#__PURE__*/_jsx(SystemSettings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/enrollment\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_ADMIN'],children:/*#__PURE__*/_jsx(CourseEnrollment,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_TEACHER'],children:/*#__PURE__*/_jsx(TeacherPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/student\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['ROLE_STUDENT'],children:/*#__PURE__*/_jsx(StudentPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})})]})})]})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Navbar","Login","Register","Dashboard","CourseList","CourseEnrollment","CourseRegistration","Results","AdminPanel","TeacherPanel","StudentPanel","AddUser","CreateCourse","SystemSettings","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","allowedRoles","user","isAuthenticated","to","includes","role","App","className","path","element"],"sources":["/Users/ayishailyas/Documents/GitHub/Course-Management-System/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Navbar from './components/Navbar';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport CourseList from './pages/CourseList';\nimport CourseEnrollment from './pages/CourseEnrollment';\nimport CourseRegistration from './pages/CourseRegistration';\nimport Results from './pages/Results';\nimport AdminPanel from './pages/AdminPanel';\nimport TeacherPanel from './pages/TeacherPanel';\nimport StudentPanel from './pages/StudentPanel';\nimport AddUser from './pages/AddUser';\nimport CreateCourse from './pages/CreateCourse';\nimport SystemSettings from './pages/SystemSettings';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, allowedRoles }) => {\n  const { user, isAuthenticated } = useAuth();\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" />;\n  }\n  \n  if (allowedRoles && !allowedRoles.includes(user?.role)) {\n    return <Navigate to=\"/dashboard\" />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n          <Navbar />\n          <div className=\"container mt-4\">\n            <Routes>\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/register\" element={<Register />} />\n              <Route path=\"/dashboard\" element={\n                <ProtectedRoute>\n                  <Dashboard />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/courses\" element={\n                <ProtectedRoute>\n                  <CourseList />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/register-course\" element={\n                <ProtectedRoute allowedRoles={['ROLE_STUDENT']}>\n                  <CourseRegistration />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/results\" element={\n                <ProtectedRoute allowedRoles={['ROLE_STUDENT']}>\n                  <Results />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/admin\" element={\n                <ProtectedRoute allowedRoles={['ROLE_ADMIN']}>\n                  <AdminPanel />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/add-user\" element={\n                <ProtectedRoute allowedRoles={['ROLE_ADMIN']}>\n                  <AddUser />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/create-course\" element={\n                <ProtectedRoute allowedRoles={['ROLE_ADMIN']}>\n                  <CreateCourse />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/settings\" element={\n                <ProtectedRoute allowedRoles={['ROLE_ADMIN']}>\n                  <SystemSettings />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/enrollment\" element={\n                <ProtectedRoute allowedRoles={['ROLE_ADMIN']}>\n                  <CourseEnrollment />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/teacher\" element={\n                <ProtectedRoute allowedRoles={['ROLE_TEACHER']}>\n                  <TeacherPanel />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/student\" element={\n                <ProtectedRoute allowedRoles={['ROLE_STUDENT']}>\n                  <StudentPanel />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n            </Routes>\n          </div>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}