{"ast":null,"code":"import _objectSpread from\"/Users/ayishailyas/Documents/GitHub/Course-Management-System/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Container,Form,Button,Alert,Row,Col}from'react-bootstrap';import courseService from'../services/courseService';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=()=>{var _location$state;const navigate=useNavigate();const location=useLocation();const onSuccess=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.onSuccess;// callback passed from AdminPanel\nconst[course,setCourse]=useState({code:'',title:'',description:'',credits:1});const[error,setError]=useState('');const[success,setSuccess]=useState('');const handleChange=e=>{setCourse(_objectSpread(_objectSpread({},course),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{await courseService.createCourse(course);setSuccess('✅ Course created successfully!');setError('');// refresh stats in AdminPanel if callback exists\nif(onSuccess)onSuccess();// redirect after short delay\nsetTimeout(()=>navigate('/admin'),1200);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'❌ Failed to create course');setSuccess('');}};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"my-4\",children:\"Create New Course\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Course Code\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"code\",value:course.code,onChange:handleChange,required:true,placeholder:\"e.g. CS101\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"title\",value:course.title,onChange:handleChange,required:true,placeholder:\"e.g. Introduction to Computer Science\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"description\",value:course.description,onChange:handleChange,placeholder:\"Brief description of the course\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Credits\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"credits\",value:course.credits,min:\"1\",onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>navigate('/admin'),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"success\",children:\"Create Course\"})]})]})]})})});};export default CreateCourse;","map":{"version":3,"names":["React","useState","Container","Form","Button","Alert","Row","Col","courseService","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","CreateCourse","_location$state","navigate","location","onSuccess","state","course","setCourse","code","title","description","credits","error","setError","success","setSuccess","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","createCourse","setTimeout","err","_err$response","_err$response$data","response","data","message","children","className","md","variant","onSubmit","Group","Label","Control","onChange","required","placeholder","as","rows","type","min","onClick"],"sources":["/Users/ayishailyas/Documents/GitHub/Course-Management-System/frontend/src/pages/CreateCourse.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Form, Button, Alert, Row, Col } from 'react-bootstrap';\nimport courseService from '../services/courseService';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nconst CreateCourse = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const onSuccess = location.state?.onSuccess; // callback passed from AdminPanel\n\n  const [course, setCourse] = useState({\n    code: '',\n    title: '',\n    description: '',\n    credits: 1\n  });\n\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const handleChange = (e) => {\n    setCourse({ ...course, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await courseService.createCourse(course);\n      setSuccess('✅ Course created successfully!');\n      setError('');\n\n      // refresh stats in AdminPanel if callback exists\n      if (onSuccess) onSuccess();\n\n      // redirect after short delay\n      setTimeout(() => navigate('/admin'), 1200);\n    } catch (err) {\n      setError(err.response?.data?.message || '❌ Failed to create course');\n      setSuccess('');\n    }\n  };\n\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col md={8}>\n          <h2 className=\"my-4\">Create New Course</h2>\n\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          {success && <Alert variant=\"success\">{success}</Alert>}\n\n          <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Course Code</Form.Label>\n              <Form.Control\n                name=\"code\"\n                value={course.code}\n                onChange={handleChange}\n                required\n                placeholder=\"e.g. CS101\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control\n                name=\"title\"\n                value={course.title}\n                onChange={handleChange}\n                required\n                placeholder=\"e.g. Introduction to Computer Science\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Description</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                name=\"description\"\n                value={course.description}\n                onChange={handleChange}\n                placeholder=\"Brief description of the course\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Credits</Form.Label>\n              <Form.Control\n                type=\"number\"\n                name=\"credits\"\n                value={course.credits}\n                min=\"1\"\n                onChange={handleChange}\n                required\n              />\n            </Form.Group>\n\n            <div className=\"d-flex justify-content-between\">\n              <Button variant=\"secondary\" onClick={() => navigate('/admin')}>\n                Cancel\n              </Button>\n              <Button type=\"submit\" variant=\"success\">\n                Create Course\n              </Button>\n            </div>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default CreateCourse;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}